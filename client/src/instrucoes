Etapa 1: Upload do Arquivo para a Stripe

Ação: Realize uma chamada de API (POST request) para o endpoint https://files.stripe.com/v1/files.
Autenticação: Utilize a sua chave secreta de teste da Stripe para autenticação (-u sk_test_SUA_CHAVE_SECRETA:).
Parâmetros:
purpose: Defina como identity_document.
file: Forneça o caminho local do arquivo que será enviado (ex: @/path/to/file.pdf).
Exemplo de Comando curl:
Bash

curl https://files.stripe.com/v1/files \
-u sk_test_SUA_CHAVE_SECRETA: \
-F purpose=identity_document \
-F file=@/caminho/para/o/arquivo.pdf
Retorno Esperado: A resposta desta chamada conterá um ID de arquivo (ex: file_xxxxxxxxxxxxx). Este ID é crucial para a próxima etapa.
Etapa 2: Associação do Arquivo à Conta Conectada

Ação: Realize uma segunda chamada de API (POST request) para o endpoint https://api.stripe.com/v1/accounts/{account_id}.
Identificador da Conta:
O {account_id} (ex: acct_xxxxxxxxxxxxx) deve ser obtido do campo stripe_account_id na tabela profile do seu banco de dados.
Autenticação: Utilize a mesma chave secreta de teste da Stripe.
Parâmetros:
individual[verification][document][front]: O valor deste campo deve ser o ID do arquivo obtido na Etapa 1.
Exemplo de Comando curl:
Bash

curl https://api.stripe.com/v1/accounts/acct_xxxxxxxxxxxxx \
-u sk_test_SUA_CHAVE_SECRETA: \
-d individual[verification][document][front]="file_xxxxxxxxxxxxx"
Importante: Lembre-se de substituir acct_xxxxxxxxxxxxx e file_xxxxxxxxxxxxx pelos valores dinâmicos corretos.
Requisito de Logging:

Para fins de depuração, é essencial que você capture e exiba no console o corpo completo da resposta (JSON) de ambas as chamadas de API da Stripe. Isso nos permitirá ver exatamente o que a Stripe está retornando em cada etapa, seja em caso de sucesso ou de erro.
